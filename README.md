<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:FF0000,100:FFA500&height=240&text=SKN01-3rd-1Team&animation=&fontColor=ffffff&fontSize=90" width="1000" />

  <img width="1000" alt="image" src="https://github.com/Jh-jaehyuk/Jh-jaehyuk.github.io/assets/126551524/7ea63fc3-95f0-44d5-a0f0-cf431cae34f1"> 
  
  [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN01-3nd-1Team&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false)](https://hits.seeyoufarm.com)
</div>



# 1. Introduction Team (íŒ€ ì†Œê°œ)
### âœ… íŒ€ëª… : TCP(Text Chat Programmers)
<table align=center>
  <tbody>
    <tr>
      <td align=center><b>í•œì¬í˜</b></td>
      <td align=center><b>ë¯¼ê²½ì›</b></td>
      <td align=center><b>ì •ì•„ëŒ</b></td>
      <td align=center><b>ìµœì¸í—Œ</b></td>
      <td align=center><b>ì´ìš©íœ˜</b></td>
    </tr>
    <tr>
      <td align="center">
        <div>
          <img src="https://github.com/user-attachments/assets/80f0a998-61ab-4de5-a652-51575e8a4468"width="200px; alt=""/>
        </div>
      </td>
      <td align="center">
        <div>
          <img src="https://github.com/user-attachments/assets/30f29d8b-bcec-46c7-bce6-e6e4ec414e55"width="200px;" alt=""/>
        </div>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/c01c579b-7f4f-436b-984a-74a26d2cef44"width="200px;" alt=""/>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/77eff59b-1c54-4d91-a49c-5f81cf28fb35"width="200px;" alt=""/>
      </td>
      <td align="center">
        <img src="https://github.com/user-attachments/assets/49822355-b1ef-485b-a45b-dc2199d8397b"width="200px;" alt=""/>
      </td>
    </tr>
    <tr>
      <td><a href="https://github.com/Jh-jaehyuk"><div align=center>@Jh-jaehyuk</div></a></td>
      <td><a href="https://github.com/MinMessi"><div align=center>@MinMessi</div></a></td>
      <td><a href="https://github.com/Ah-ram"><div align=center>@Ah-ram</div></a></td>
      <td><a href="https://github.com/ih9511"><div align=center>@ih9511</div></a></td>
      <td><a href="https://github.com/y0ng98"><div align=center>@y0ng98</div></a></td>
    </tr>
  </tbody>
</table>
<br><br><br>


# 2. Introduction Project (í”„ë¡œì íŠ¸ ê°œìš”)

### âœ…í”„ë¡œì íŠ¸ ëª…
Web Application CI-CD êµ¬ì¶•í•˜ê¸°

### âœ…í”„ë¡œì íŠ¸ ì†Œê°œ
Web Appication(Front-End + Back-End + Fast API) + CI-CD(Docker + GitHub Actions + AWS)

### âœ…í”„ë¡œì íŠ¸ í•„ìš”ì„±(ë°°ê²½)
Web Applicationì˜ CI-CD êµ¬ì¶•ì˜ í•„ìš”ì„±ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

## CI/CDì˜ í•„ìš”ì„±

### CI (Continuous Integration)
- **ìë™í™”ëœ í…ŒìŠ¤íŠ¸ì™€ ë¹Œë“œ**: ì½”ë“œë¥¼ í†µí•©í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ì™€ ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ì˜¤ë¥˜ë¥¼ ì¡°ê¸°ì— ë°œê²¬í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **í†µí•© ì£¼ê¸° ë‹¨ì¶•**: ì‘ì€ ë³€ê²½ ì‚¬í•­ì„ ìì£¼ í†µí•©í•¨ìœ¼ë¡œì¨ ë³µì¡í•œ í†µí•© ê³¼ì •ì„ í”¼í•˜ê³  ê°œë°œ ì†ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **í’ˆì§ˆ í–¥ìƒ**: ì§€ì†ì ì¸ ì½”ë“œ ë¦¬ë·°ì™€ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì½”ë“œì˜ í’ˆì§ˆì„ ìœ ì§€í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### CD (Continuous Deployment/Continuous Delivery)
- **ìë™ ë°°í¬**: ì½”ë“œê°€ í†µí•©ë˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ë˜ì–´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ ìˆ˜ì • ì‚¬í•­ì„ ë¹ ë¥´ê²Œ ì‚¬ìš©ìì—ê²Œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë¹ ë¥¸ í”¼ë“œë°±**: ì‹¤ì œ ì‚¬ìš©ìì—ê²Œ ë°°í¬ë¨ìœ¼ë¡œì¨ í”¼ë“œë°±ì„ ì‹ ì†í•˜ê²Œ ë°›ì•„ ë¬¸ì œë¥¼ ì¡°ê¸°ì— í•´ê²°í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì•ˆì •ì„± í–¥ìƒ**: ë°°í¬ ìë™í™”ë¥¼ í†µí•´ ì‚¬ëŒì˜ ì‹¤ìˆ˜ë¥¼ ì¤„ì´ê³  ì¼ê´€ëœ ë°°í¬ ê³¼ì •ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì¢…í•©ì ì¸ í•„ìš”ì„±
- **íš¨ìœ¨ì„± ì¦ëŒ€**: ê°œë°œ, í…ŒìŠ¤íŠ¸, ë°°í¬ ê³¼ì •ì˜ ìë™í™”ë¡œ ê°œë°œ íŒ€ì˜ íš¨ìœ¨ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ìœ„í—˜ ê°ì†Œ**: ìì£¼ ì‘ì€ ë‹¨ìœ„ë¡œ ë°°í¬í•¨ìœ¼ë¡œì¨ í° ë°°í¬ë³´ë‹¤ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë¹ ë¥¸ ì‹œì¥ ì¶œì‹œ**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ ì¶œì‹œí•˜ì—¬ ì‹œì¥ì˜ ìš”êµ¬ì— ì‹ ì†íˆ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **í˜‘ì—… í–¥ìƒ**: ê°œë°œì ê°„ì˜ í˜‘ì—…ì„ ì›í™œí•˜ê²Œ í•˜ê³  ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

CI/CDëŠ” ê¶ê·¹ì ìœ¼ë¡œ ê°œë°œ ì†ë„ë¥¼ ë†’ì´ê³ , ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•˜ë©°, ì‚¬ìš©ìì—ê²Œ ì‹ ì†í•˜ê²Œ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.


### âœ…í”„ë¡œì íŠ¸ ëª©í‘œ
1. Front-Endì—ì„œëŠ” **TypeScript**ì™€ **Vue.js + Vuetify3**ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸¡ë©´ì—ì„œ ìœ ë¦¬í•œ UI-UXë¥¼ êµ¬ì¶•í•˜ì˜€ê³ , **Axios** ë¥¼ í†µí•´ì„œ ì˜¬ë°”ë¥¸ Requestë¥¼ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤. 
2. Back-Endì—ì„œëŠ” **Python**ê³¼ **Django**, **MySQL** ë“±ì„ ì´ìš©í•˜ì—¬ Requestì— ëŒ€í•œ ì •í™•í•œ Responseì™€ ì›í™œí•œ ì›¹ì‚¬ì´íŠ¸ ìš´ì˜í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤.
3. Fast APIì—ì„œëŠ” **Machine Learning** **Deep Learning** ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶„ì„ ë° ì˜ˆì¸¡í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
4. CI-CDëŠ” ì§€ì†ì ì¸ ì½”ë“œ í†µí•©ê³¼ ì§€ì†ì ì¸ ë°°í¬ë¥¼ í†µí•´ ê¶ê·¹ì ìœ¼ë¡œ ê°œë°œ ì†ë„ë¥¼ ë†’ì´ê³ , ì½”ë“œ í’ˆì§ˆì„ ìœ ì§€í•˜ë©°, ê°œë°œê³¼ ìš´ì˜ì˜ ê²½ê³„ë¥¼ í—ˆë¬¼ë©° ì‹ ì†í•˜ê²Œ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤. 
<br><br><br>


# 3. ERD êµ¬ì„±
![image](https://github.com/user-attachments/assets/89c648be-12d6-4a15-8fbb-6d0149eaee81)
<br><br><br>

## ì• ìì¼ ë³´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
```c
ê³¼ê±° ì •ì˜ì„œë“¤ì„ ì¼ì¼íˆ ì‘ì„±í•˜ì˜€ì§€ë§Œ ë¹ ë¥¸ ì†ë„ë¡œ ë¬´ì–¸ê°€ë¥¼ ê°œë°œí•˜ëŠ”ë° í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.
ì²˜ìŒë¶€í„° ë§ì€ ê²ƒë“¤ì„ ë¹Œë“œì—…í•˜ë©´ì„œ ë¹ ë¥¸ ìƒì‚°ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ì›€ì§ì´ë ¤ë©´ ë°˜ë“œì‹œ ì• ìì¼í•´ì•¼í•©ë‹ˆë‹¤.
ê³ ë¡œ í­í¬ìˆ˜ ì„¤ê³„ ë°©ì‹ì´ ì•„ë‹Œ ì• ìì¼ í”„ë¡œì„¸ìŠ¤ ë°©ì‹ìœ¼ë¡œ ì• ìì¼ ë³´ë“œë¥¼ ì‘ì„±í•˜ë©´ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

ì• ìì¼ ë³´ë“œëŠ” ìì²´ì ìœ¼ë¡œ ì œëª©ì´ ìš”êµ¬ ì‚¬í•­ì„ ë‚´í¬í•˜ë©° ê° ì¹´ë“œ ë‚´ë¶€ì—ëŠ” ì •ì˜í•œ Domainì˜ ì„¸ë¶€ ì‚¬í•­ì´ ê¸°ë¡ë©ë‹ˆë‹¤.
ê³ ë¡œ ë¹ ë¥´ê²Œ íŒ€ì›ë“¤ê³¼ í˜‘ì—… í•  ìˆ˜ ìˆê³  ì†Œí†µ ë¹„ìš©ì„ ìµœì†Œí™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‘ì€ ê²ƒ ê°™ì§€ë§Œ ì´ì™€ ê°™ì€ ê²ƒë“¤ì´ ìŒ“ì—¬ì„œ ì•„ì£¼ ê¸°ë¯¼í•˜ê³  ë¯¼ì²©í•œ ì¡°ì§ì„ ë§Œë“¤ì–´ ëƒ…ë‹ˆë‹¤.
```

# 4. Backend ì• ìì¼ ë³´ë“œ - ìš”êµ¬ ì‚¬í•­ ì •ì˜ì„œ
![image](https://github.com/user-attachments/assets/ecc39db2-4b69-4609-b5d8-54a1a9464e38)
![image](https://github.com/user-attachments/assets/f28987d4-0ea5-4485-ae20-c7823bd6907c)
<br><br><br>


# 5. Frontend ì• ìì¼ ë³´ë“œ - í™”ë©´ ì„¤ê³„ì„œ
![image](https://github.com/user-attachments/assets/a4a4841b-52c5-4e46-92e7-d02d0aecf0e0)
![image](https://github.com/user-attachments/assets/ed4222af-786a-47b3-af49-4e4b1b356087)
<br><br><br>


# 6. FastAPI ì• ìì¼ ë³´ë“œ - AI ì„œë¹™ ì„¤ê³„ì„œ
![image](https://github.com/user-attachments/assets/f0239817-461a-4625-9176-f70bacece673)
<br><br><br>

# 7. ì‹œìŠ¤í…œ êµ¬ì„±ë„
![image](https://github.com/user-attachments/assets/66a78240-b41d-487a-8800-29bccbab7d41)
<br><br><br>


# 8. Manual Deploy (ìˆ˜ë™ ë°°í¬ ì§„í–‰ ì ˆì°¨)

## Frontend (UI)
## Backend (Server)
## FastAPI (AI Core Server)
### Build
í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— Dockerfileê³¼ docker-compose.yml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/558dd449-5a52-4b51-9d33-533a89bb34b6)

ì´í›„ GHCRì— docker loginì„ í•˜ì—¬ docker build êµ¬ì„±ì„ ì§„í–‰í•©ë‹ˆë‹¤.
```bash
export DOCKER_BUILDKIT=1
docker buildx create --use
docker buildx build --platform linux/arm64 --file ./Dockerfile --push -t ghcr.io/githubê³„ì •/tcp-fastapi-server:latest .
```
buildê°€ ì™„ë£Œë˜ì–´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/400b0701-5179-4627-becd-e95807ca1bdf)

![image](https://github.com/user-attachments/assets/673e79ee-ccc8-4b41-a64d-8d714fc605a2)

### êµ¬ë™
AWSì— ì ‘ì†í•´ì„œ ë§ˆì°¬ê°€ì§€ë¡œ docker-compose.yml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/649539a5-7d58-44e7-9a74-76b458d39a13)

<br>
ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  êµ¬ë™í•©ë‹ˆë‹¤.

```bash
docker-compose up
```

ì˜ êµ¬ë™ëœ ëª¨ìŠµì…ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/7ab8fd20-fda1-498e-b28b-d8dc4ece6cb1)

ì™¸ë¶€ì—ì„œ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì„¤ì •í•©ë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/0021b74a-e8d0-44c0-b8a3-146e9c7ca8b6)

ì•„ë˜ì™€ ê°™ì´ ìˆ˜ë™ë°°í¬ê°€ ì˜ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/b3e2ffcd-6f5c-41f0-873b-9ae29c516d32)
<br><br><br>



# 9. Autonomous Deploy (ìë™ ë°°í¬ ì§„í–‰ ì ˆì°¨)

## Frontend (UI)

## Backend (Server)
### Django CI
#### Basic Settings
GitHub Actionsë¥¼ í™œìš©í•´ì„œ CIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ë¸Œëœì¹˜ì˜ ê²½ìš°, develop ë¸Œëœì¹˜ê°€ ì•„ë‹Œ, main ë¸Œëœì¹˜ì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
  
![image](https://github.com/user-attachments/assets/a537bdde-8ec9-46d7-b37b-7c881087349d)  
íŒŒì¼ ì´ë¦„ì˜ ê²½ìš° ci ë¡œ ì„¤ì •í•˜ê³ , íŒŒì¼ì˜ ê²½ìš° yaml í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤. XML, JSON ë“±ì˜ í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•´ë„ ë¬´ë°©í•˜ë‚˜, ìœ ì§€ ë³´ìˆ˜ì˜ ìœ ì—°ì„±ê³¼ ê°œë°œ í¸ì˜ì„±ìœ¼ë¡œ ìœ„í•´ yamlì„ ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤. ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ Backendì˜ ê²½ìš°, Djangoë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ MySQLê³¼ Redisë¥¼ í™œìš©í•©ë‹ˆë‹¤. ì´ì— ë§ê²Œ yaml íŒŒì¼ì„ êµ¬ì„±í•©ë‹ˆë‹¤.  

#### Django ì¼ê´„ í…ŒìŠ¤íŠ¸ ì§„í–‰
ë˜í•œ, ë§¤ë²ˆ integration ì´ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê³¼ì •ì—ì„œ ëª¨ë“  í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ëŒë¦¬ëŠ” ë²ˆê±°ë¡œì›€ì„ ì¤„ì´ê¸° ìœ„í•´ì„œ Django í…ŒìŠ¤íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì•„ì„œ CIì— ì „ë‹¬í•˜ê²Œë” êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.  

![image](https://github.com/user-attachments/assets/9afb8a59-eaf9-47dc-ba52-de95da84b681)
  
í•´ë‹¹ ìœ„ì¹˜ì— find_test.sh ë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒì˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.  
```bash
#!/usr/bin/env bash

TEST_DIRS=$(find . -path ./.venv -prune -o -type d -name 'tests' -print)

APP_TESTS=()

for TEST_DIR in $TEST_DIRS; do
  APP_NAME=$(basename $(dirname $TEST_DIR))
  TEST_FILES=$(find $TEST_DIR -type f -name 'test*.py')

  if [ -z "$TEST_FILES" ]; then
    continue
  fi

  APP_TESTS+=("${APP_NAME}.tests")
done

echo "${APP_TESTS[@]}"
```
ë‹¤ìŒìœ¼ë¡œ ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤. ëª¨ë“  ëª…ë ¹ì–´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Git Bashì—ì„œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— Linux ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´í›„, íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œ ë£¨íŠ¸ ìœ„ì¹˜ ë‚´ì˜ ëª¨ë“  tests íŒŒì¼ë“¤ì„ ì˜ ê°€ì ¸ì˜¤ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```bash
chmod +x find_test.sh
./find_test.sh
```
### Django CD
#### Basic Settings
CI êµ¬ì„±ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ GitHub Actionsë¥¼ ì´ìš©í•˜ì—¬ CDë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. 
![image](https://github.com/user-attachments/assets/89bdb835-5276-419b-b902-ccf3c6023449)

Django í™˜ê²½ì„ ì—¬ëŸ¬ ê°œ êµ¬ì„±í•´ì•¼ í•  ê²½ìš°, build ì‹œì— ì„œë¡œ êµ¬ë¶„ì´ ë¼ì•¼í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì—, jobs: build: steps: `Build and push Docker image` ìª½ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•©ë‹ˆë‹¤.  
```bash
- name: Build and push Docker image
  run: |
    cd <í”„ë¡œì íŠ¸ ì´ë¦„>
    docker buildx build --platform linux/arm64 -f Dockerfile -t ghcr.io/${{ github.actor }}/<ë¹Œë“œí•˜ê³ ì í•˜ëŠ” í™˜ê²½ ì´ë¦„>:latest --push .
```
#### Github Actions Runner êµ¬ì„±
GitHub Actions Runner ì„¤ì •ì„ ìœ„í•´ Settingsë¡œ ì´ë™í•©ë‹ˆë‹¤. Settings -> Code and automation -> Actions -> Runners ì´ë™ í›„ ìš°ì¸¡ ìƒë‹¨ì— `New self-hosted runner` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/2bc9e67a-32c8-4985-9006-cfd4ee157bbd)
ìš°ë¦¬ëŠ” AWSì—ì„œ `Linux`ë¥¼ ì„ íƒí–ˆê¸° ë•Œë¬¸ì— `Runner image`ë¥¼ `Linux`ë¡œ ì„ íƒí•©ë‹ˆë‹¤. ì „ì²´ì ì¸ ì„¸íŒ…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
- Runner Image: `Linux`
- Architecturre: `ARM64`  
  
ì´í›„ `Git Bash`ë¥¼ í†µí•´ AWSì— ì ‘ì†í•©ë‹ˆë‹¤.
  
![image](https://github.com/user-attachments/assets/fec99c35-004b-4d83-8d27-f9d8e0f49630)
  
ì´í›„ `Django` í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™í•œ ë‹¤ìŒ, ìƒì„±ëœ `runners` í´ë”ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. ë‹¤ìŒì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ `backend-action-runner` í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
```bash
mkdir backend-action-runner
cd backend-action-runner
```
ì´í›„ ì•„ë˜ìª½ì— ìˆëŠ” ëª…ë ¹ì–´ë“¤ì„ ì…ë ¥í•©ë‹ˆë‹¤. ì…ë ¥ ì‹œ CD ìŠ¤í¬ë¦½íŠ¸ì˜ `deploy` ë¶€ë¶„ì˜ êµ¬ì„±ì„ í† ëŒ€ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.
```bash
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, <runners ì‹¤í–‰í•  ì´ë¦„ > ]
  steps:
  - name: Login to GHCR
  ...
```
`config` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜µë‹ˆë‹¤.

![image](https://github.com/user-attachments/assets/13393ca6-4878-451f-afbd-5d3278ae2d5f)

ì •ìƒì ìœ¼ë¡œ êµ¬ë™ëœë‹¤ë©´ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹¤í–‰í•©ì‹œë‹¤.
```bash
./run.sh
```
ì´í›„ background ì—ì„œë„ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
```bash
nohup ./run.sh > run.log 2>&1 &
```
ì¶”ê°€ì ìœ¼ë¡œ backgroundì—ì„œ ì˜ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒì˜ ëª…ë ¹ì„ ì…ë ¥í•©ë‹ˆë‹¤.
```bash
ps -ef | grep run.sh
```
ì˜ ì‘ë™í•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤.
  
![image](https://github.com/user-attachments/assets/dcb9f5f7-6ea0-4d37-b0c5-a35abccccc1b)

### docker-compose êµ¬ì„±
`Git Bash`ë¥¼ í†µí•´ AWSì— ì ‘ì†í•©ë‹ˆë‹¤. ì´í›„ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
```bash
cd <í”„ë¡œì íŠ¸ëª…>
mkdir django-backend
cd django-backend
```
Django í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ í•˜ìœ„ì— .env íŒŒì¼ê³¼ í•¨ê»˜ docker-compose.yml íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒì˜ ë‚´ìš©ì„ ê¸°ì…í•©ë‹ˆë‹¤.
```bash
version: '3'
services:
  django:
    container_name: django
    image: ghcr.io/${GITHUB_ACTOR}/tf-django-server:latest
    command: /app/wait-for-it.sh db:3306 -t 15 -- sh -c "python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
    restart: always
    ports:
      - "8000:8000"
    depends_on:
      - db
      - redis
    environment:
      - DJANGO_SETTINGS_MODULE=config.settings
      - CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}
      - CSRF_TRUSTED_ORIGINS=${CSRF_TRUSTED_ORIGINS}
      - DATABASE_HOST=${DATABASE_HOST}
      - DATABASE_PORT=3306
      - DATABASE_NAME=${DATABASE_NAME}
      - DATABASE_USER=${DATABASE_USER}
      - DATABASE_PASSWORD=${DATABASE_PASSWORD}
      - KAKAO_LOGIN_URL=${KAKAO_LOGIN_URL}
      - KAKAO_CLIENT_ID=${KAKAO_CLIENT_ID}
      - KAKAO_REDIRECT_URI=${KAKAO_REDIRECT_URI}
      - KAKAO_TOKEN_REQUEST_URI=${KAKAO_TOKEN_REQUEST_URI}
      - KAKAO_USERINFO_REQUEST_URI=${KAKAO_USERINFO_REQUEST_URI}
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - REDIS_PASSWORD=${REDIS_PASSWORD}
      - ALLOWED_HOSTS=${ALLOWED_HOSTS}
    networks:
      - app-network

  db:
    image: mysql:8.0
    container_name: db
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DATABASE_PASSWORD}
      MYSQL_DATABASE: ${DATABASE_NAME}
      MYSQL_USER: ${DATABASE_USER}
      MYSQL_PASSWORD: ${DATABASE_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - db_data:/var/lib/mysql
      - ./mysql/custom.cnf:/etc/mysql/conf.d/custom.cnf
      - ./mysql/logs:/var/log/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - app-network

  redis:
    image: redis:latest
    container_name: redis-container
    restart: always
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: ["redis-server", "--requirepass", "${REDIS_PASSWORD}"]
    networks:
      - app-network

volumes:
  db_data:
  redis_data:
  app:

networks:
  app-network:
    driver: bridge
```
ì´í›„ django-backend í•˜ìœ„ì— `mysql`ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  `custom.cnf` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
```bash
mkdir mysql
cd mysql
vi custom.cnf
```
```bash
[mysqld]
character-set-server = utf8mb4
collation-server = utf8mb4_general_ci
skip-character-set-client-handshake
innodb_buffer_pool_size = 16M
```
ì´í›„ `mysql` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— `logs` ë””ë ‰í† ë¦¬ë¥¼ ë°°ì¹˜í•©ë‹ˆë‹¤.
```bash
mkdir logs
cd logs
touch README.md
```
ê·¸ë¦¬ê³  django-backend ë””ë ‰í† ë¦¬ í•˜ìœ„ì— init.sql íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤.
```bash
CREATE DATABASE IF NOT EXISTS <db ì´ë¦„>;
GRANT ALL PRIVILEGES ON <db ì´ë¦„>.* TO 'eddi'@'%';
FLUSH PRIVILEGES;
```
`Git Bash`ì—ì„œ `docker-compose up`ëª…ë ¹ì–´ë¥¼ í†µí•´ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì˜ ë™ì‘í•œë‹¤ë©´, docker-compose êµ¬ì„±ì´ ì˜ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.

## FastAPI (AI Core Server)

<br><br><br>



# 10. Result (ìˆ˜í–‰ ê²°ê³¼)



<br><br><br>

# 11. Tech Stack (ê¸°ìˆ  ìŠ¤íƒ)

### Co-Work(Communication)
![Github](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white)
<img src="https://img.shields.io/badge/gitkraken-179287?style=for-the-badge&logo=gitkraken&logoColor=white"/>
<img src="https://img.shields.io/badge/notion-%23000000?style=for-the-badge&logo=notion&logoColor=white"/> 
<img src="https://img.shields.io/badge/slack-%234A154B?style=for-the-badge&logo=slack&logoColor=white"/>
<img src="https://img.shields.io/badge/discord-5865F2?style=for-the-badge&logo=discord&logoColor=white"/>

### IDE
![PyCharm](https://img.shields.io/badge/pycharm-%23000000?style=for-the-badge&logo=pycharm&logoColor=white")
<img src="https://img.shields.io/badge/Jupyter_Notebook-F37626?style=for-the-badge&logo=jupyter&logoColor=white"/>
<img src="https://img.shields.io/badge/VS%20Code-007ACC?style=for-the-badge&logo=visual-studio-code&logoColor=white"/> 


### Frontend
![HTML](https://img.shields.io/badge/HTML-E34F26?style=for-the-badge&logo=html5&logoColor=white)
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"/>
<img src="https://img.shields.io/badge/Javascript-ffb13b?style=for-the-badge&logo=javascript&logoColor=white"/>
<img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white"/> 
<img src="https://img.shields.io/badge/vuetify-%231867C0?style=for-the-badge&logo=vuetify&logoColor=white"/>
<img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=black"/>
<img src="https://img.shields.io/badge/axios-%235A29E4?style=for-the-badge&logo=axios&logoColor=white"/>

### Backend
![Python](https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white)
<img src="https://img.shields.io/badge/pandas-%23150458?style=for-the-badge&logo=pandas&logoColor=white"/> 
<img src="https://img.shields.io/badge/numpy-%23013243?style=for-the-badge&logo=numpy&logoColor=white"/>
<img src="https://img.shields.io/badge/Openpyxl-217346?style=for-the-badge&logo=microsoft-excel&logoColor=white"/>
<img src="https://img.shields.io/badge/SQLAlchemy-666699?style=for-the-badge&logo=sqlalchemy&logoColor=white"/>

### Fast API (AI Core)
![FastAPI](https://img.shields.io/badge/fastapi-%23009688?style=for-the-badge&logo=fastapi&logoColor=white)
<img src="https://img.shields.io/badge/Machine_Learning-FF6F00?style=for-the-badge&logo=machine-learning&logoColor=white"/>
<img src="https://img.shields.io/badge/scikitlearn-%23F7931E?style=for-the-badge&logo=scikitlearn&logoColor=white"/>
<img src="https://img.shields.io/badge/Deep_Learning-00599C?style=for-the-badge&logo=deep-learning&logoColor=white"/>
<img src="https://img.shields.io/badge/TensorFlow-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white"/>
<img src="https://img.shields.io/badge/Keras-D00000?style=for-the-badge&logo=keras&logoColor=white"/>

### CI-CD Infrastructure
![AWS](https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazonwebservices&logoColor=white)
<img src="https://img.shields.io/badge/AWS_EC2-FF9900?style=for-the-badge&logo=amazon-ec2&logoColor=white"/>
<img src="https://img.shields.io/badge/AWS_S3-569A31?style=for-the-badge&logo=amazon-s3&logoColor=white"/>
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
<img src="https://img.shields.io/badge/github%20actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white"/>
<img src="https://img.shields.io/badge/docker-%232496ED?style=for-the-badge&logo=docker&logoColor=white"/> 
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"/>
<img src="https://img.shields.io/badge/redis-%23FF4438?style=for-the-badge&logo=redis&logoColor=white"/>
<br><br><br>

# 12. í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œ (CI í…ŒìŠ¤íŠ¸ ê²°ê³¼)
ğŸ§ª **Backend Build Test**  
<img width="976" alt="Backend-Build-Test" src="https://github.com/user-attachments/assets/b7ad4ba0-f070-477a-b1f6-39460f94837c">  
<br>
ğŸ§ª **Frontend Build Test**  
<img width="993" alt="Frontend-Build-Test" src="https://github.com/user-attachments/assets/449cff0e-1953-4a93-aa0f-3ea8e07291d9">  
<br>  
ğŸ†— _Backend_ ì™€ _Frontend_ ëª¨ë‘ ì„±ê³µì ìœ¼ë¡œ **Build** ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# 13. Deploy Issue (ë°°í¬ ì´ìŠˆ)
1. **Error: repository name must be lowercase**
![Issue1](https://github.com/user-attachments/assets/0eaa074a-c88e-469b-8ab2-e90919ad1c88)  
<br>

### _Solution_   
ë§Œì•½ actorê°€ Uppercaseë¼ë©´, ì•„ë˜ì™€ ê°™ì´ ì§ì ‘ Lowercaseë¥¼ ëª…ì‹œí•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yaml
name: Django CD (Continuous Deploy)

on:
  repository_dispatch:
    types: [BACKEND_TEST_FINISH_TRIGGER]

jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
```
  
ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
name: Django CD (Continuous Deploy)

on:
  repository_dispatch:
    types: [BACKEND_TEST_FINISH_TRIGGER]
    
env:
  DOCKER_IMAGE: ghcr.io/${{ secrets.REAL_ACTOR }}/tcp-backend

jobs:
  build:
    name: build-app
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
```

ê·¸ë¦¬ê³  ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
- name: Build and Push Docker Image
  run: |
    cd tcp_backend/tcp_django
    docker buildx build --platform linux/arm64 -f Dockerfile -t ghcr.io/${{ github.actor }}/tcp-django-backend-server:latest --push .
```
  
ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.
```yaml
- name: Build and Push Docker Image
  run: |
    cd tcp_backend/tcp_django
    docker buildx build --platform linux/arm64 -f Dockerfile -t ${{ env.DOCKER_IMAGE }}:latest --push .
```

**secrets**ì— _REAL_ACTOR_ ë¥¼ ì„¤ì •í•˜ê³  _REAL_ACTOR_ ë¥¼ **ì†Œë¬¸ì ë³¸ì¸ ê³„ì •**ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.  
ex) Ah-ram >> ah-ram  

ë§ˆì§€ë§‰ìœ¼ë¡œ ì•„ë˜ ë‚´ìš©ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, deploy-tcp-backend ]
  steps:
  - name: Login to GHCR
    uses: docker/login-action@v1
    with:
      registry: ghcr.io
      username: ${{ github.actor }}
      password: ${{ secrets.GHCR_TOKEN }}
```

ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.  
```yaml
deploy:
  needs: build
  name: Deploy
  runs-on: [ self-hosted, deploy-lms-backend ]
  steps:
  - name: Login to GHCR
    uses: docker/login-action@v1
    with:
      registry: ghcr.io
      username: ${{ secrets.REAL_ACTOR }}
      password: ${{ secrets.GHCR_TOKEN }}
```

2. **Cannot connect to the Docker daemon at <workdir>**
![Issue2](https://github.com/user-attachments/assets/775cadb2-3228-425a-bf98-9ebf4aed8d43)  
<br>

### _Solution_  
localì— **docker desktopì´ ì¼œì ¸ìˆëŠ”ì§€ í™•ì¸**í•´ë³´ì•„ì•¼ í•©ë‹ˆë‹¤.  
Docker desktopì„ ì‹¤í–‰í•˜ê³  ë‹¤ì‹œ ì‹œë„í•˜ë‹ˆ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.  

3. **FastAPI ë°°í¬ ì´í›„, ì›¹ì— ì ‘ì†ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
<img width="722" alt="Issue3" src="https://github.com/user-attachments/assets/89331de6-8e8b-42d8-bf7b-e15364e2260d">
<br>

### _Solution_  
FastAPI ë°°í¬ í›„, **ì¸ìŠ¤í„´ìŠ¤ ë³´ì•ˆ ê·¸ë£¹ì—ì„œ 33333 portì— ëŒ€í•˜ì—¬ ì¸ë°”ìš´ë“œ ì„¤ì •**ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.  
ì„¤ì •í•˜ê³  ë‹¤ì‹œ ì ‘ì†í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
![Issue3-1](https://github.com/user-attachments/assets/0a4d7844-692f-43e2-98fb-76680f98e5a1)  
  
# 14. í•œ ì¤„ íšŒê³ 
ğŸ¤“<b>í•œì¬í˜</b>  
_AWSì™€ Dockerì— ëŒ€í•´ì„œ ë°°ìš°ê³  ì‹¶ì—ˆëŠ”ë°, ë‹¨ìˆœíˆ ë°°ìš°ëŠ” ê²ƒì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì„±ë¶€í„° ë°°í¬ê¹Œì§€ ê²½í—˜í•  ìˆ˜ ìˆì–´ì„œ ì •ë§ ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤! íŒ€ì›ë¶„ë“¤ë„ ê°™ì´ ì—´ì‹¬íˆ í•´ì£¼ì…”ì„œ ì–´ë µì§€ ì•Šê²Œ ë§ˆë¬´ë¦¬ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë‹¤ë“¤ ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤!!ğŸ‘_  

ğŸ‘¨â€ğŸ’»<b>ë¯¼ê²½ì›</b>  
_AWS -GitHub Actions-Dockerë“±ì„ ì´ìš©í•œ CI-CD êµ¬ì¶•ì„ ì§ì ‘ ê²½í—˜í•´ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤._  

ğŸ˜º<b>ì •ì•„ëŒ</b>  
_CI/CD í™˜ê²½ êµ¬ì„±ìœ¼ë¡œ í”„ë¡œì íŠ¸ ë°°í¬ë¥¼ ìë™í™”í•˜ê³  AWSì™€ ê²°í•©í•´ ì„œë¹„ìŠ¤ë¥¼ í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤._  

ğŸª<b>ìµœì¸í—Œ</b>  
_Django, MySQLê³¼ Vueë¥¼ í™œìš©í•˜ì—¬ ì›¹ ê¸°ë°˜ ì„œë¹„ìŠ¤ë“¤ì˜ ì‘ë™ ë°©ì‹ì„ ì´í•´í•˜ëŠ” ê¸°íšŒê°€ ë˜ì—ˆê³ , AWSì™€ GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ ë°°í¬ê¹Œì§€ í•´ë´„ìœ¼ë¡œì„œ CI/CDê°€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì—ˆë˜ ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ëª¨ë‘ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤!_  

ğŸ˜<b>ì´ìš©íœ˜</b>  
_AWSì™€ Dockerë¥¼ ì œëŒ€ë¡œ ë‹¤ë£¨ì–´ ë³¸ ê²ƒì€ ì²˜ìŒì¸ë°, ë‹¤ì–‘í•œ issueë“¤ì„ ê²ªì–´ì„œ í˜ë“¤ì—ˆì§€ë§Œ ê·¸ë§Œí¼ ë§ì´ ë°°ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤._  
